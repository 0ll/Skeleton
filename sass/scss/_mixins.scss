// DEPENDENCIES
@import "functions"; // import _functions

// SASS Transcription of Skeleton Framework
// @license MIT <http://www.opensource.org/licenses/mit-license.php>
// @author Dennis Thompson <http://www.atomicpages.net/>
// @copyright Copyright 2013, Dennis Thompson

// This file is meant for all of your custom mixins.

// ---- MIXINS ----
// border radius mixin
@mixin border-radius($radius...) {
	$radius: unquote($radius);
	-webkit-border-radius: $radius;
	-moz-border-radius: $radius;
	-ms-border-radius: $radius;
	-o-border-radius: $radius;
	border-radius: $radius;
}
@mixin bd($vert, $horiz, $radius) {
	-webkit-border-#{$vert}-#{$horiz}-radius: $radius;
	-moz-border-radius-#{$vert}#{$horiz}: $radius;
	border-#{$vert}-#{$horiz}-radius: $radius;
}
@mixin border-top-left-radius($radius: $default-border-radius) { @include bd('top', 'left', $radius); }
@mixin border-top-right-radius($radius: $default-border-radius) { @include bd('top', 'right', $radius); }
@mixin border-bototm-left-radius($radius: $default-border-radius) { @include bd('bottom', 'left', $radius); }
@mixin border-bottom-right-radius($radius: $default-border-radius) { @include bd('bottom', 'right', $radius); }
@mixin border-top-radius($radius: $default-border-radius) {
	@include border-top-left-radius($radius);
	@include border-top-right-radius($radius);
}
@mixin border-right-radius($radius: $default-border-radius) {
	@include border-top-right-radius($radius);
	@include border-bottom-right-radius($radius);	
}
@mixin border-bottom-radius($radius: $default-border-radius) {
	@include border-bottom-left-radius($radius);
	@include border-bottom-right-radius($radius);
}
@mixin border-left-radius($radius: $default-border-radius) {
	@include border-top-left-radius($radius);
	@include border-bottom-left-radius($radius);	
}

// opacity
@mixin opacity($alhpa, $ie: true) {
	@if(type-of($alpha) != number) {
		@warn "$alpha must be a number. Setting to 0.5.";
		$alpha: 0.5;
	} @else {
		@if($alpha < 0 or $alpha > 1) {
			@warn "$alpha must be within 0 and 1. Setting to 0.5.";
			$alpha: 0.5;
		}
	}
	@if($ie == true) {
		filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=$alpha * 100);
	}
	opacity: $alpha;
}

// TODO: improve these mixins
@mixin text-shadow($shadow...) {
	text-shadow: $shadow;
}

@mixin box-shadow($shadow...) {
	-webkit-box-shadow: $shadow;
	-moz-box-shadow: $shadow;
	box-shadow: $shadow;
}

// TODO make a background gradient mixin

// TODO: Allow for fluid grids
@mixin makeGrid($width: getWidth(), $column_width: getColWidth(), $gutter_width: getGutterWidth(), $columns: getCols(), $fixed: getFixed()) {
	@for $i from 1 through $columns {
		@if $i == 1 {
			.container .one.column, 
			.container .one.columns { width: $column_width; }
		} @else {
			// a_n = 40 + (60 (n - 1))
			.container .#{getWordFromNum($i)}.columns { width: $column_width + (($column_width + $gutter_width) * ($i - 1)); }
		}
	}
	.container .one-third.column { width: round($width * (1/3)) - $gutter_width ; }
	.container .two-thirds.column { width: round($width * (2/3)) - $gutter_width; }
	/* Offsets */
	@for $i from 1 through $columns {
		@if $i < $columns {
			.container .offset-by-#{getWordFromNum($i)} { width: ($column_width + $gutter_width) * $i; }
		}
	}
}